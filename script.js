// if you're reading this code, please don't look at all the splash messages here. it spoils the experience of finding new ones :)


window.splashes = [
    "Dukemz Gaming",
    "Any computer is a laptop if you're brave enough!",
    "Humans are basically cucumbers with anxiety.",
    "<a href='https://dukemz.github.io/posts/22/iamlivinginyourwalls/'>I am living in your walls.</a>",
    "üóø",
    "ü¶Ü",
    "üé∑ü¶Ü",
    "‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë",
    "‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë",
    "‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë",
    "‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë",
    "‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë",
    "‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë",
    "‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë", // lol it never loads
    "I forgor üíÄ",
    "Part of a complete breakfast!",
    "1 of your 5 a day!",
    "Batteries not included.",
    "No artificial flavours or preservatives.",
    "Not sold separately!",
    "doot doot",
    "I can't find the bug spray.",
    "This gradient is cool.",
    "Spreading positivity since 2018!",
    "This site uses biscuits... Technobiscuits.",
    "dukemz.",
    "dukemz?",
    "dukemz!",
    "dukemz,",
    "dukemz;",
    "dukemz:",
    "dukemz...",
    "dukemz~",
    "dukemz*",
    "Error on line 39. Reason: Could not think of a splash.",
    "Llama, llama, duck",
    "Potassium.",
    "plus9 when?",
    "The duck ate my homework.",
    "How do you pronounce scone?",
    "My house plant is going to die.",
    "INTERCONTINENTAL BALLISTIC PINEAPPLE!!!",
    "This message may appear.",
    "‚àö(-1) love you!",
    "Cucumber still watches us.",
    "Fry an egg with your face!",
    "Menger sponge.",
    "Moss Habitat!",
    "webstuff | webstuff yee",
    "Are biscuits a currency?",
    "Hello world!",
    "XHESSRBIUSCEDOBTCPM‚Ñ¢",
    "Chicken. üí•",
    "ALL OUR FOOD KEEPS BLOWING UP!",
    "üóø (moai) is an emotion that cannot be described.",
    ":)",
    "Which came first, the egg or the egg?",
    "BirbOS 10 will never happen.",
    "At least it's better than Cars 2",
    "test peanut",
    "The ducks are coming for you.",
    "NovoBot is not cancelled!",
    "You know what that means...",
    "PA-FISH",
    "Technologically advanced!",
    "<a href='https://youtu.be/0UWpTyuUxNo'>https://youtu.be/0UWpTyuUxNo</a>",
    "<a href='https://youtu.be/0UWpTyuUxNo'>Click for a microwave!</a>",
    "Dukemz Beanz - in stores now!",
    "Stop being reasonable, this is the internet",
    "I'm a potato.",
    "Aria Math!",
    "Can't count to 3!",
    "oh the missouri",
    "Hopefully not copyrighted!",
    "Not very original!",
    "There are 10 types of people.<br>Those who understand binary, and those who don't.",
    "Run from your refrigerator!",
    "Wash your hands!",
    "Due ewe no wart the thyme ears?",
    "Time flies like an arrow and fruit flies like a banana...",
    "I wasn't originally going to get a brain transplant...<br>but then I changed my mind.",
    "Buffalo buffalo Buffalo buffalo buffalo buffalo Buffalo buffalo.",
    "Let in some sun!",
    "Boss rush time!",
    "It's dangerous to go alone, take <a href='/img/duck.jpg'>this!</a>",
    "I ran out of beans.",
    "Eating clocks is a very time consuming process.",
    "The most website ever!",
    "A website visit a day keeps... something away!",
    "A car powered on free range chickens<br>and designed by a team of hand picked potatoes!",
    "snap back to reality",
    "In marble walls as white as milk...",
    "Just upon a ridge in Scarlet Hill...",
    "Yazoo!",
    "Computer says no.",
    "Where are we now?",
    "You say too many splash texts, I say not enough!",
    "Don't forget.",
    "Married to tea.",
    "There's a secret on the 404 page somewhere...",
    "But that's just a theory!",
    "Come back soon!",
    "--.- ..- .- -.-. -.-",
    "Bread is pain!",
    "Use bootstrap!",
    "Subscribe!",
    "I am under the water",
    "Ghoughpteighbteau tchoghs!",
    "I've been waiting for you.",
    "Welcome back!",
    "Did you miss me?",
    "YIPEE",
    "Wheatley crab!",
    "There is no among us joke.",
    "25th Greek island!",
    "WALL-E is the best robot.",
    "If you're seeing this, that means you exist!",
    "Windows XP was better.",
    "Where did the icon come from?",
    "12345 is a bad password!",
    "[redacted]",
    "Close range?!",
    "In the beginning the Universe was created.<br>This has made a lot of people very angry and been widely regarded as a bad move.",
    "Drink your water!",
    "There is no light, there is only duckness...",
    "DON'T LEAVE TREES FLOATING",
    "Could you pick up the beat for me please?",
    "timeout /t 10 > nul",
    "192.168.1.254",
    "For legal reasons, this is a joke.",
    "What if Dukemz isn't a duck?",
    "This sentence is false.",
    "There is a skeleton in my closet making spaghetti.",
    "D1 D1 D2 A1 G#1 G1 F1 D1 F1 G1",
    "F1 G1 C1 G1 A1 C2 B1 A1 F1 G1 C1 C1 C1 D1 D1 F1",
    "subscribe to dxl44",
    "Your toes, hand em over.",
    "Now with extra duck!",
    "There was never any context to begin with.",
    '<a href="https://dukemz.github.io/SinthaliaPrototypeWeb/">Shh, this is a secret...</a>',
    "Please ask me any questions you have!",
    "Dorime... interimo adapare dorime...",
    "Someone spilled paint to the left of this text on my desktop!",
    "Peace was always an option.",
    "Unfortunately...",
    "Dutchess_83!",
    "That's sad. I'm sad. I miss you.<br>How did this happen?",
    "A long time ago- actually, never, (and also now)",
    "Nothing is nowhere? When? Never.",
    "Makes sense, right?",
    "That's how 'every' it gets.",
    "the sun is a deadly laser",
    ".zmekud",
    "Cats are adorable.",
    "if(variable === undefined) throw new MentalBreakdownError()",
    "Educate your friends on anti-racism!",
    "hi",
    "perhaps",
    "I'm starting to run out of things to put here...",
    "I've spent an unreasonable amount of time writing these.",
    "Please help me",
    "Lobsters inshore!",
    "Lobsters outshore!",
    ":|",
    "Absolutely NO owo's on this site.",
    "Don't uwu. $30 penalty.",
    "it's dukemzin' time",
    "and then he dukemz'd all over the place",
    "my favourite part of the dukemz movie",
    "this cat is r",
    "Please do not the cat",
    "Top 10 numbers of all time!",
    "The fog is coming.",
    "The frog is coming.",
    "It has been done.",
    "I'm going to go ahead and go have a go.",
    "You will never find out what the numbers mean.",
    "418: I'm a teapot!",
    "I'm going to invent Teascript.",
    " ", // you are a menace dukemz
    "gloopchita",
    "There may be birds trapped in my ribcage.",
    "Beware of robot dogs.",
    "kablinky",
    "Welcome to the world of coding! Survive while you can.",
    '<a href="https://youtu.be/-O1wszcVF1c">https://youtu.be/-O1wszcVF1c</a>',
    '<a href="https://youtu.be/-O1wszcVF1c">reads the entire tpmc wiki page in vc</a>',
    "Boiled, not fried.",
    "Pots have handles.",
    "Doesn't have secrets!",
    "whar",
    "üõ≥üõ≥üõ≥",
    "Live Dukemz Reaction:",
    "Compliant with RFC 7168!",
    "Wubba lubba dub dub!",
    "your brain tricks you into thinking",
    "What made you think this was a good idea?",
    "Are you seeing this?",
    "...or is it?",
    "Yippee!",
    "bruh moment",
    "Momentum is the product of the mass and velocity of an object...",
    "On the shores of a purple sea.",
    "Underneath a purple sky.",
    "A splash of purple-blue water!",
    "I was the person who asked!",
    "Kraftfahrzeug-Haftpflichtversicherung!",
    "Pneumonoultramicroscopicsilicovolcanoconiosis",
    "Can a match box?",
    "Can February March?",
    "Why was 6 afraid of 7?",
    "The duck was no chicken.",
    "In the starlight.",
    "üéµ",
    "We've been trying to reach you about your car's extended warranty",
    "Family friendly!",
    "Incredibly lonely!",
    "Looking for the edge of the ground.",
    "Searching for the threshold of the earth.",
    "You are our 1,000th customer! You win absolutely nothing!",
    "I'll post more soon, I promise!",
    "And as always, thanks for watching.",
    "Go to Jupiter to get shredded by the gravitational pull.",
    "I know where you live!",
    "We couldn't afford capital letters in the title.",
    "Because of budget cuts.",
    "üï∂",
    "They are many colours.",
    "„ÅäÂâç Âíå Á∂≤ Ê≠ª„Çì„Åß„ÅÑ„Çã",
    "‰ΩïÔºÅÔºü",
    "Quaso",
    "Cheese, versus, cheese.",
    // ljaldy start
    "On a scale of 1 to 10, what's your favourite colour of the alphabet?",
    "Converting pasta to concrete since 2021!",
    "sometimes gaming.",
    "Autumn leaves are falling down.",
    "bn fn",
    "Ping!",
    "Pong!",
    "Loading 404 page...",
    "Rerouting engine power for biscuit production...",
    "= )",
    "OUR NEW [[soon to be old]] [upgraded!] WEBSITE!!",
    "Mail mail you mail mail and mail mail you mail mail and",
    "Was that the duck of 87?!",
    "A worthy excuse of procrastination.",
    "*breathes*",
    "Only 70% banana!",
    "wen the cold doesnt coldulate the ammonia",
    "Is water wet? Well, here's a better question: is frost frosty?",
    "It's delicious. Must be flavour text.",
    "Slang for 'do you kemz?'",
    "Simultaneously too much and not enough time to use.",
    "/give @e fun_times",
    "Is cheese cheese?",
    "What if this website... is cake?",
    "This website was brought to you by...",
    "Num lock on, caps lock off, scroll lock idk.",
    "h",
    "no memes in #general",
    "wait a minute...",
    "only one finger and two toes",
    "The bugs are evolving...",
    "Concatenating integers...",
    "A+ for effort.",
    "ENABLE THE BAGEL",
    "Do not feed the pigeons.",
    "Formerly known as dukemz.",
    "v2",
    "For the fans that spin really fast.",
    "Don't judge a book by its movie.",
    "Who did the physics of a bee flying?",
    "On of th lttrs on my kyboard is brokn, snd hlp.",
    "dstgdpm10h",
    "Greetings and salutations!",
    "12 13 21 22 23 24 32 34 41 42 44", // grid
    "How many holes in a polo?",
    "Generating content... This may take a while.",
    "Nothing does not rhyme with orange.",
    "Dihydrogen monoxide is not dangerous.",
    "Hello there.", // back again
    "Each Peach Pear Plum",
    "uz.demk",
    "<a href='https://www.youtube.com/watch?v=-1oRezdQEzM'>]]]</a>",
    "Me has ungood inglish.",
    "Insectophobe's nightmare.",
    "[REDUCKTED]",
    "Please keep hands inside the cart at all times.",
    "Duke of the MZ",
    "How did we get here?",
    "Don't feed ducks bread.",
    "It's-a-me!",
    "[object Object]",
    "typeof(Nan) = number;",
    "Now in 2D!",
    "stonks",
    "Eat your veggies!",
    "A duck walked up to the lemonade stand...",
    "<a href='https://dukemz.github.io/'>Click here for another splash!</a>",
    "Welcome to Dukemz's Pizza Emporium, how may we help you?",
    "Knock knock.",
    "Why did the duck cross the road????",
    "<a href='https://bit.ly/3EjjNW8'>CLICK HERE!!!</a>",
    "Did you know?<br>There is only one splash with the word 'deposit' in it.",
    "xnopyt",
    "camelCaseIsUsefulForSeparatingWordsInCode",
    "Take your age. Add 2. Subtract 2. That's your age.",
    "This splash has only 41 characters in it.",
    "Do I smell burning chicken?",
    "19th of August 2024 17:32:47:1026", // what
    "Don't forget.",
    "#stopusinghashtags",
    "smh forgot to capitalise dukemz.",
    "ping-pong = png(i-o)",
    "colourize",
    "colorise", // american spelling
    "dUkEmZ.",
    "return null;",
    "<a href='https://dukemz.github.io/whyareyoulookinghere'>[Hyperlink Blocked]</a>",
    "Greetings traveller, rest here for a while.",
    "3... 2... 1...",
    // "owo", // no.
    "Minced garlic!",
    "Are you ready kids?",
    "Heyo!",
    "What... cactus..?",
    "{groovy brackets}",
    "sdrawkcab",
    "For more Dukemz content!",
    "Duck? *bonk*",
    "Welcome to the Internet.",
    "2^2^2^2",
    "Coincidentally, I'm reading this too.",
    "e g g",
    "Peace, love, and ducks.",
    "You are now breathing manually.",
    "Now with even more bugs!",
    "It's not a bug, it's a feature!",
    "It's not a feature, it's a bug.",
    "Spiderduck, spiderduck, naturally has webbed feet.",
    "I wonder what Ctrl + Shift + W does?",
    "Press Alt + F4 to end your browsing session!",
    "(Psst... Ctrl + Shift + T re-opens a closed tab!<br>You're welcome!)",
    "A group of ducks is a waddling.",
    "Chocolate can be good for you, but be careful!",
    "splash_number += 1",
    "Biscuits - dunk 'em.",
    "100% random!",
    "Still on the duck hunt.<br>(No ducks were harmed in the making of this splash text.)",
    "I'm a spring duckling and I'm having a ball!",
    "Lookie lookie it's a cookie üç™",
    "I'm ready for a break... <br>Here it is.",
    "Melee?!", // what
    "Travelling back in time since 2034!",
    "Freshly-baked biscuits!",
    "Computer will.",
    "Computer knows.",
    "You've been put on hold, someone will see you shortly.",
    "Hello to see you now, goodbye to see you later.",
    "How many holes in a polo?", // back again again
    "Loading the duck hivemind...",
    "Toppling the economy with seashells+ and biscuits.",
    "Surfing on a purple wave.",
    "You have 20 seconds.",
    "For more definitions, see Dukemz (disambiguation).",
    "Powered by procrastination!",
    "It says gullible in the URL.",
    "Hoo sayed eye cood spel mi wheurds kourectlee?",
    "Do not avoid not never doing not bad things.",
    "The fifth element: inspect element",
    "But is it really dukemz?",
    "Definitely dukemz.",
    "Photosensitive Scissor Warning",
    "What a pretty website! I sure hope no-one breaks it...",
    "Hexagons are the Bestagons.",
    "Three is a prime example of a number.",
    "Around the world...",
    "üêü",
    "aibohphobia: fear of palindromes",
    "hippopotomonstrosesquippedaliophobia: fear of long words",
    "anatidaephobia: fear that somewhere, somehow, a duck is watching you",
    "Performing accindentations since     2018!",
    "The dot signifies nothing.",
    "console.log('splash text')",
    "Spudow!",
    "Purble",
    "Have you ever seen Dukemz and Lord Duck in the same room?",
    "The daily essentials: bread, milk, bug repellent.",
    "You can have money or duck.<br>'Duck?' Duck it is then.",
    "The Second Dukemz.",
    "yo",
    "Welcome, welcome. Welcome? Welcome!",
    "And I'll dukemz again...",
    "+++ = 6<br>--+ = 5<br>++- = ?",
    "Don't turn me into a palindrome!emordnilap a otni em nrut t'noD",
    "e  g  g",
    "What came first: the duck or the egg?",
    "Welcome to duckie village",
    "It's behind you!",
    "Yes, it really says dukemz.",
    "^ true",
    "One duck tells the truth, another one tells lies, and the last tells truths and lies.<br>By asking one question, get them to make an omelette.",
    "any% glitchless",
    "~ dukemz",
    "Is it dookemz or djukemz?",
    "@everyone",
    "You've reached the duckfish hotline. Are you a duck or a fish?",
    "1% programming, 99% debugging.",
    "But what does it mean?",
    "The more splashes there are, the less likely you'll see this one. Enjoy it.",
    "Fish Gaming Wednesday",
    "12345 is a passCODE!",
    ":O",
    "A wild viewer has been spotted!",
    "Duck in the mud!",
    "Straighten your back, you shrimp!",
    "Have a nice day!",
    "Everyone asks when update but not how update.<br>Especially since I don't know how.",
    "Are these truly random?",
    "I hope you aren't repeatedly reloading the splashes...",
    "Generating good content... (this may take a while)",
    "I am doney with the funny!",
    "Turned himself into a duck, funniest stuff I've ever seen.",
    "Reminder to drink water.",
    "Hold on, just got to read an entire wiki article...",
    "dukemzn't.",
    "I only just realised one splash appears twice on the list.",
    "I live in Spain but without the s or i. üç≥",
    "0.1134",
    "Building a computer from just NAND gates.",
    "What does ¬¨ even mean?",
    "scown scon scun scwun scoon",
    "tl;dr: dukemz.",
    "Coding Doom in Google Spreadsheets...",
    "variable_names_should_not_be_too_long = true;",
    "I've lost ctrl, now there's no esc.",
    "You eat an egg with or without the shell?",
    "Bowl first.",
    // "Jim", // uncomment when i play the bucket game
    "It's pronounced gif!",
    "Why Do Some People Capitalise Every Word In A Sentence?",
    "but i dont want to dukemz...", // too bad, you have to
    "Can you quack the code?",
    "eggcellent",
    "These bird puns are getting reduckulous!",
    "gg ngl gtg brb ttyl cya gn"
    // ljaldy end (epic)
]
splashes.push(`There are ${splashes.length + 2} splash texts. Isn't that weird?`);
splashes.push(`The chance of you seeing this message is 1 in ${splashes.length + 1}.`);

// everything below here is tb's stuff

// https://francoisromain.medium.com/smooth-a-svg-path-with-cubic-bezier-curves-e37b49d46c74
const line = (pointA, pointB) => {
    const lengthX = pointB[0] - pointA[0]
    const lengthY = pointB[1] - pointA[1]
    return {
      length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),
      angle: Math.atan2(lengthY, lengthX)
    }
}

const controlPoint = (current, previous, next, reverse) => {
    // When 'current' is the first or last point of the array
    // 'previous' or 'next' don't exist.
    // Replace with 'current'
    const p = previous || current
    const n = next || current
    // The smoothing ratio
    const smoothing = 0.2
    // Properties of the opposed-line
    const o = line(p, n)
    // If is end-control-point, add PI to the angle to go backward
    const angle = o.angle + (reverse ? Math.PI : 0)
    const length = o.length * smoothing
    // The control point position is relative to the current point
    const x = current[0] + Math.cos(angle) * length
    const y = current[1] + Math.sin(angle) * length
    return [x, y]
}

const bezierCommand = (point, i, a) => {
    // start control point
    const [cpsX, cpsY] = controlPoint(a[i - 1], a[i - 2], point)
    // end control point
    const [cpeX, cpeY] = controlPoint(point, a[i - 1], a[i + 1], true)
    return `C ${cpsX},${cpsY} ${cpeX},${cpeY} ${point[0]},${point[1]}`
}

const svgPath = (points, command) => {
    // build the d attributes by looping over the points
    const d = points.reduce((acc, point, i, a) => i === 0
      // if first point
      ? `M ${point[0]},${point[1]}`
      // else
      : `${acc} ${command(point, i, a)}`
    , '')
    return d;
}


//

const recalcShape = () => {
    // lol sorry for putting this here - duck
    const sploosh = splashes[Math.floor(Math.random()*splashes.length)];
    
    // biscuit to the rescue with jquery (hopefully)
    if ($("#randomSplash").length) $("#randomSplash").html(sploosh);
    //let splText = document.getElementById("randomSplash")?.innerHTML;
    //console.log(splText)
    //if(splText !== undefined) splText = sploosh;
    
    $(".shape-thing").empty();
    let points = [[0, 0]];
    for (let y = 0; y < $(document).height() * 6; y += 200) {
        points.push([330 + (60 - (120 * (Math.random()))), y]);
    }

    let path = "";

    for (let i = 0; i < points.length; i++) {
        path += `L ${points[i][0]} ${points[i][1]} `;
    }

    path += `L 0 ${points[points.length - 1][1]} Z`

    $(".background").css("height", `${$(document).height()}px`)

    $(".shape-thing").append($(`
    <svg viewBox="0 0 500 ${points[points.length - 1][1]}" xmlns="http://www.w3.org/2000/svg">
        <linearGradient gradientUnits="userSpaceOnUse" x1="148.964" y1="44.905" x2="148.964" y2="492.678" id="gradient-0" gradientTransform="matrix(0.918522, 0.395369, -0.408856, 0.949858, 71.08396, -91.186193)" spreadMethod="pad">
            <stop offset="0" style="stop-color: rgb(11, 184, 253);"/>
            <stop offset="1" style="stop-color: rgb(90, 66, 236);"/>
        </linearGradient>
        <path d="${svgPath(points, bezierCommand)} L 0 ${points[points.length - 1][1]} Z" fill="url(#gradient-0)" />
    </svg>
    `));
}

$(window).resize(_.debounce(recalcShape, 200));
